<div class="profile-container">
  <div class="header">
    <h1>Your Profile</h1>
  </div>

  <div *ngIf="loading" class="loading-spinner">
    <mat-spinner></mat-spinner>
  </div>

  <form [formGroup]="profileForm" (ngSubmit)="saveProfile()" *ngIf="!loading">
    <mat-card>
      <mat-card-content>
        <div class="user-email">
          <p><strong>Email:</strong> {{ userEmail }}</p>
        </div>

        <div class="form-row">
          <mat-form-field appearance="fill" class="full-width">
            <mat-label>Full Name</mat-label>
            <input matInput formControlName="name">
          </mat-form-field>
        </div>

        <div class="form-row form-row-inline">
          <mat-form-field appearance="fill">
            <mat-label>Age</mat-label>
            <input matInput type="number" formControlName="age" min="13" max="120">
          </mat-form-field>

          <mat-form-field appearance="fill">
            <mat-label>Height (cm)</mat-label>
            <input matInput type="number" formControlName="height" min="0" max="300">
          </mat-form-field>

          <mat-form-field appearance="fill">
            <mat-label>Weight (kg)</mat-label>
            <input matInput type="number" formControlName="weight" min="0" max="500">
          </mat-form-field>
        </div>

        <div class="form-row">
          <mat-form-field appearance="fill" class="full-width">
            <mat-label>Fitness Goals</mat-label>
            <textarea matInput formControlName="fitnessGoals" rows="3"
                      placeholder="What are your fitness goals?"></textarea>
          </mat-form-field>
        </div>

        <div class="subscription-status">
          <h3>Subscription Status</h3>
          <div class="status-badge" [ngClass]="isPremium ? 'premium' : 'standard'">
            {{ isPremium ? 'Premium' : 'Standard' }}
          </div>

          <button mat-raised-button color="accent" *ngIf="!isPremium" routerLink="/upgrade">
            Upgrade to Premium
          </button>
        </div>
      </mat-card-content>

      <mat-card-actions align="end">
        <button mat-raised-button color="primary" type="submit" [disabled]="profileForm.invalid || saving">
          SAVE PROFILE
        </button>
      </mat-card-actions>
    </mat-card>
  </form>
</div>
